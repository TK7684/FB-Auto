C:\Users\ttapk\PycharmProjects\pythonProject\AI bot for FB page\services\gemini_service.py:8: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
2026-02-04 14:46:10.047 | INFO     | services.memory_service:_load_memory:26 - Loaded 80 items from memory.
2026-02-04 14:46:10.047 | INFO     | services.gemini_service:__init__:87 - Gemini service initialized with OpenRouter model: google/gemini-2.0-flash-001
2026-02-04 14:46:10.047 | INFO     | services.gemini_service:generate_response:360 - Attempting response via OpenRouter: Hello, are you working?...
2026-02-04 14:46:10.047 | WARNING  | services.gemini_service:generate_response:365 - OpenRouter generation failed, falling back to direct Google: name 'prompt' is not defined
2026-02-04 14:46:10.047 | INFO     | services.gemini_service:get_embeddings:638 - Attempting embeddings via OpenRouter...
2026-02-04 14:46:11.185 | ERROR    | services.gemini_service:_get_embeddings_openrouter_sync:625 - OpenRouter Embedding error: 400 - {"error":{"message":"Model google/text-embedding-004 does not exist","code":400}}
2026-02-04 14:46:11.185 | INFO     | services.gemini_service:get_embeddings:649 - Attempting embeddings via Direct Google Gemini...
2026-02-04 14:46:11.415 | ERROR    | services.gemini_service:get_embeddings:665 - Direct Google embedding failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/rate-limit. 
API Key present: True
OpenRouter Key present: True

Testing Chat Completion...
Chat Error: 'charmap' codec can't encode characters in position 15-24: character maps to <undefined>

Testing Embeddings...
Result type: <class 'list'>
Embedding is empty.
